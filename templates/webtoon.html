{% extends 'base.html' %}

{% block content %}
<div class="webtoon-detail-container">
    
    <div class="webtoon-header">
        <div class="blur-bg" style="background-image: url('{{ webtoon.cover_image }}');"></div>
        
        <div class="webtoon-info-box">
            <div class="cover-wrapper">
                <img src="{{ webtoon.cover_image }}" alt="{{ webtoon.title }}" class="main-cover">
            </div>
            
            <div class="info-text">
                <h1 class="manga-title">{{ webtoon.title }}</h1>
                <div class="meta-tags">
                    <span class="tag">Manhwa</span>
                    <span class="tag">Adult</span>
                    <span class="tag status">Ongoing</span>
                </div>
                <p class="description">{{ webtoon.description }}</p>
                
                <div class="action-buttons">
                    {% if webtoon.chapters %}
                        <a href="{{ url_for('read', chapter_id=webtoon.chapters[0].id) }}" class="btn-read start">Read First</a>
                        <a href="{{ url_for('read', chapter_id=webtoon.chapters[-1].id) }}" class="btn-read last">Read Latest</a>
                    {% else %}
                        <button class="btn-read disabled">No Chapters Yet</button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="chapter-section">
        <h3><i class="fas fa-list"></i> Chapter List</h3>
        <div class="chapter-list">
            {% if webtoon.chapters %}
                {% for chapter in webtoon.chapters|reverse %}
                <a href="{{ url_for('read', chapter_id=chapter.id) }}" class="chapter-item">
                    <span class="chap-title">{{ chapter.title }}</span>
                    <span class="chap-date">{{ chapter.date_posted.strftime('%d %b %Y') }}</span>
                </a>
                {% endfor %}
            {% else %}
                <p class="no-chap">No chapters uploaded yet.</p>
            {% endif %}
        </div>
    </div>

</div>
{% endblock %}
